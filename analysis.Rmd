---
title: "Detailed User Engagement Analysis"
output: 
  html_document:
    theme: cosmo
    highlight: tango
    toc: true
    toc_float: true
    css: styles.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)
library(tidyverse)
library(plotly)
library(DT)
```

```{=html}
<div class="nav-header">
  <div class="nav-title">Jargon Analytics</div>
  <div class="nav-links">
    <a href="index.html" class="nav-inactive">Overview</a>
    <a href="analysis.html" class="nav-active">Detailed Analysis</a>
  </div>
</div>
```

# Detailed Analysis

This page provides an in-depth analysis of user engagement patterns with the Jargon Chrome extension. 

[← Back to Overview](index.html)

## Data Preparation

```{r data-prep}
# Load and prepare data
profiles <- read_csv("data/profiles_rows_cleaned.csv")
questions <- read_csv("data/questions_rows.csv")
words <- read_csv("data/words_rows.csv")
levels <- read_csv("data/levels_rows.csv")
websites <- read_csv("data/website_blacklist_rows.csv")

# Enhance profiles data
question_counts <- questions %>%
  group_by(user_id) %>%
  summarise(generated_questions = n())

answer_counts <- words %>%
  group_by(user_id) %>%
  summarise(answered_questions = n())

blocked_websites <- websites %>%
  group_by(user_id) %>%
  summarise(blocked_sites = n())

distinct_levels <- levels %>%
  group_by(user_id) %>%
  summarise(levels_attempted = n_distinct(level))

# Merge enhanced data
enhanced_profiles <- profiles %>%
  left_join(question_counts, by = "user_id") %>%
  mutate(generated_questions = ifelse(is.na(generated_questions), 0, generated_questions)) %>%
  left_join(answer_counts, by = "user_id") %>%
  mutate(answered_questions = ifelse(is.na(answered_questions), 0, answered_questions)) %>%
  left_join(blocked_websites, by = "user_id") %>%
  mutate(blocked_sites = ifelse(is.na(blocked_sites), 0, blocked_sites)) %>%
  left_join(distinct_levels, by = "user_id") %>%
  mutate(levels_attempted = ifelse(is.na(levels_attempted), 0, levels_attempted)) %>%
  mutate(highlightStyle = if_else(highlightStyle == "highlight", 1, 0))
```

## Language Learning Patterns

```{r language-patterns}
# Process language data
language_data <- questions %>%
  count(language) %>%
  arrange(desc(n))

# Create interactive bar chart
plot_ly(language_data,
        x = ~language,
        y = ~n,
        type = "bar",
        marker = list(color = "rgb(55, 83, 109)")) %>%
  layout(
    title = list(text = "Figure 1: Questions Generated by Language Category",
                 x = 0.5),
    xaxis = list(title = "Language", tickangle = 45),
    yaxis = list(title = "Number of Questions"),
    hovermode = "closest"
  )
```

**Figure 1 Description**: This bar chart shows the distribution of questions generated across different language categories. Spanish leads in question generation, followed by GRE Vocabulary and Tamil, indicating these are the most popular learning categories among users. The variation in question counts suggests different levels of engagement across language options, which could inform future content development priorities.

## Temporal Usage Patterns

```{r activity-timeline}
# Process timeline data
timeline_data <- questions %>%
  mutate(created_at = as.POSIXct(created_at, format = "%Y-%m-%d %H:%M:%OS", tz = "UTC")) %>%
  mutate(date = as.Date(created_at)) %>%
  group_by(date) %>%
  summarise(number_of_questions = n())

# Create interactive time series
plot_ly(timeline_data,
        x = ~date,
        y = ~number_of_questions,
        type = "scatter",
        mode = "lines+markers",
        line = list(color = "rgb(55, 83, 109)"),
        marker = list(color = "rgb(219, 64, 82)")) %>%
  layout(
    title = list(text = "Figure 2: Daily Question Generation Activity",
                 x = 0.5),
    xaxis = list(title = "Date"),
    yaxis = list(title = "Number of Questions"),
    hovermode = "closest"
  )
```

**Figure 2 Description**: The time series plot reveals the daily pattern of question generation over time. Notable spikes in activity occur periodically, particularly around October, suggesting possible promotional events or user engagement initiatives. The baseline activity shows consistent but relatively low engagement, indicating opportunities for improving regular user participation.

## Key Findings

1. **User Engagement Variation**: There is significant variation in user engagement levels, with a small group of highly active users generating hundreds of questions while most users show moderate activity.

2. **Language Preferences**: Spanish, GRE Vocabulary, and Tamil emerge as the most popular language categories, suggesting these areas resonate most with the user base.

3. **Temporal Patterns**: Usage shows sporadic spikes rather than consistent daily engagement, indicating potential opportunities for improving regular user participation.

## Recommendations

1. **User Engagement**: Implement strategies to convert moderate users into more active participants, possibly through gamification or targeted incentives.

2. **Content Development**: Focus on expanding content in popular language categories while investigating ways to increase engagement in less-utilized categories.

3. **Usage Patterns**: Develop features to encourage more consistent daily usage, such as daily challenges or streak rewards.

[← Back to Overview](index.html) 